"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[5354,6698,778],{3520:function(e,t,n){n.r(t),n.d(t,{ACustomModal:function(){return l.default}});var l=n(74262)},15603:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var l=n(23279),o=n.n(l),i=(n(92222),n(2262)),u=n(66252),s=n(46680);function a(e,t){var n=t.emit,l=(0,i.iH)(null),a=(0,i.iH)(null),r=(0,i.iH)(null),d=(0,i.iH)(null),f=(0,i.iH)(null),c=(0,i.iH)(null),m=(0,i.iH)(null),v=(0,i.iH)(null),p=(0,i.iH)(null),y=(0,i.iH)(null),h=(0,i.iH)(null),g=(0,i.iH)(null),R=(0,i.iH)(null),k=(0,i.iH)(null),_=(0,i.iH)(null),b=(0,i.iH)(null),z={x:0,y:0},L=function(e){return Object.assign(z,{x:e.pageX,y:e.pageY})};document.documentElement.addEventListener("click",L,!0);var H,w,T,E,x,B=(0,s.getTransitionProps)("fade"),W=(0,s.getTransitionProps)("zoom",{onAfterLeave:function(){return n("update:visible",!1)}}),C=0;function Y(e,t,n,l,o,i){t.onmousedown=function(u){var s=u.clientX-t.offsetLeft,a=u.clientY-t.offsetTop,d=e.offsetTop,f=e.offsetLeft,c=e.offsetWidth,m=e.offsetHeight,v=function(u){var v=u.clientX-s,p=u.clientY-a,y=document.documentElement.clientWidth-e.offsetLeft-2,h=document.documentElement.clientHeight-e.offsetTop-2,g=n?c-v:t.offsetWidth+v,R=l?m-p:t.offsetHeight+p;return n&&(e.style.left=f+v+"px"),l&&(e.style.top=d+p+"px"),g<400&&(g=400),g>y&&(g=y),o||(r.value.style.width=g+"px"),R<140&&(R=140),R>h&&(R=h),i||(r.value.style.height=R-C-x+"px"),(n&&400==g||l&&140==R)&&(document.onmousemove=null),(n||l)&&(document.onmousemove=null),!1};return document.addEventListener("mousemove",v),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",e)})),!1}}var M=function(){var t,n,o;t=l.value,n=f.value,o=0,(n=n||t).style.cursor="move",n.onmousedown=function(e){o=e.clientX-t.offsetLeft;var n=e.clientY-t.offsetTop,l=function(e){var l=e.clientX-o,i=e.clientY-n,u=document.documentElement.clientWidth-t.offsetWidth,s=document.documentElement.clientHeight-t.offsetHeight;return l<=0&&(l=0),i<=0&&(i=0),l>=u&&(l=u),i>=s&&(i=s),t.style.left=l+"px",t.style.top=i+"px",!1};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)})),!1},_.value.onclick=function(){var e=getComputedStyle(t),n=e.left,l=e.top,o=getComputedStyle(r.value),i=o.width,u=o.height;H=i,w=u,T=n,E=l,t.style.top=t.style.left=0,t.style.width=document.documentElement.clientWidth-2+"px",t.style.height=document.documentElement.clientHeight-2+"px",r.value.style.width=t.style.width,r.value.style.height=parseFloat(t.style.height)-x-C+"px",this.style.display="none",b.value.style.display="block"},b.value.onclick=function(){r.value.style.height=w,r.value.style.width=H,t.style.width=t.style.height="unset",t.style.left=T,t.style.top=E,this.style.display="none",_.value.style.display="block"},Y(l.value,y.value,!0,!0,!1,!1),Y(l.value,h.value,!1,!0,!1,!1),Y(l.value,g.value,!1,!1,!1,!1),Y(l.value,R.value,!0,!1,!1,!1),Y(l.value,c.value,!0,!1,!1,!0),Y(l.value,m.value,!1,!0,!0,!1),Y(l.value,v.value,!1,!1,!1,!0),Y(l.value,p.value,!1,!1,!0,!1),l.value.style.left=(document.documentElement.clientWidth-l.value.offsetWidth)/2+"px",l.value.style.top=e.centered?(document.documentElement.clientHeight-l.value.offsetHeight)/2+"px":"100px";var i=l.value.getBoundingClientRect(),u=i.left,s=i.top,d=z.x,k=z.y;a.value.style.transformOrigin="".concat(d-u,"px ").concat(k-s,"px")},P=o()(M,30);return(0,u.bv)((function(){(0,u.YP)((function(){return e.visible}),(function(e){e&&((0,u.Y3)((function(){var e,t;x=(null===(e=f.value)||void 0===e?void 0:e.offsetHeight)||0,C=(null===(t=d.value)||void 0===t?void 0:t.offsetHeight)||0,M()})),window.addEventListener("resize",P))}),{immediate:!0})})),(0,u.Jd)((function(){window.removeEventListener("resize",P),document.documentElement.removeEventListener("click",L,!0),P.cancel})),{dragRef:l,modalWrapRef:a,modalBody:r,modalFooter:d,titleRef:f,resizeLRef:c,resizeTRef:m,resizeRRef:v,resizeBRef:p,resizeLTRef:y,resizeTRRef:h,resizeBRRef:g,resizeLBRef:R,minRef:k,maxRef:_,revertRef:b,maskTransitionProps:B,dialogTransitionProps:W,closeModal:function(){n("update:visible",!1)}}}},74262:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var l=n(66252),o=n(49963),i=n(3577),u={ref:"modalRootRef",class:"ant-modal-root custom-modal"},s={class:"ant-modal-mask"},a={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},r={ref:"dragRef",class:"ant-modal"},d={class:"ant-modal-content"},f={ref:"titleRef",class:"ant-modal-header"},c={class:"ant-modal-title"},m={class:"ant-modal-operate"},v={ref:"minRef",type:"button",class:"min",title:"最小化"},p={ref:"maxRef",type:"button",class:"max",title:"最大化"},y={ref:"revertRef",type:"button",class:"revert",title:"还原"},h={ref:"resizeLRef",class:"resizeL"},g={ref:"resizeTRef",class:"resizeT"},R={ref:"resizeRRef",class:"resizeR"},k={ref:"resizeBRef",class:"resizeB"},_={ref:"resizeLTRef",class:"resizeLT"},b={ref:"resizeTRRef",class:"resizeTR"},z={ref:"resizeBRRef",class:"resizeBR"},L={ref:"resizeLBRef",class:"resizeLB"},H={ref:"modalBody",class:"ant-modal-body"},w=(0,l.Uk)(" ① 窗口可以拖动；"),T=(0,l._)("br",null,null,-1),E=(0,l.Uk)(" ② 窗口可以通过八个方向改变大小；"),x=(0,l._)("br",null,null,-1),B=(0,l.Uk)(" ③ 窗口可以最小化、最大化、还原、关闭；"),W=(0,l._)("br",null,null,-1),C=(0,l.Uk)(" ④ 限制窗口最小宽度/高度。 "),Y={key:0,ref:"modalFooter",class:"ant-modal-footer"},M=(0,l.Uk)("取 消"),P=(0,l.Uk)("确 认");var U=n(46680),X=n(15603),F=(0,l.aZ)({name:"ACustomModal",components:{Transition:U.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{type:[String],default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},emits:["update:visible"],setup:function(e,t){return(0,X.default)(e,t)}});const O=(0,n(83744).Z)(F,[["render",function(e,t,n,U,X,F){var O=(0,l.up)("a-button");return e.destroyOnClose&&!e.visible?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[],64)):((0,l.wg)(),(0,l.j4)(l.lR,{key:1,to:"body"},[(0,l._)("div",u,[(0,l.Wm)(o.uT,(0,l.dG)({key:"mask"},e.maskTransitionProps),{default:(0,l.w5)((function(){return[(0,l.wy)((0,l._)("div",s,null,512),[[o.F8,e.visible]])]})),_:1},16),(0,l.Wm)(o.uT,(0,l.dG)({key:"dialog"},e.dialogTransitionProps),{default:(0,l.w5)((function(){return[e.visible?((0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l._)("div",f,[(0,l._)("span",c,(0,i.zw)(e.title),1),(0,l._)("div",m,[(0,l._)("button",v,null,512),(0,l._)("button",p,null,512),(0,l._)("button",y,null,512),(0,l._)("button",{type:"button",class:"close",title:"关闭",onClick:t[0]||(t[0]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})})])],512),(0,l._)("div",h,null,512),(0,l._)("div",g,null,512),(0,l._)("div",R,null,512),(0,l._)("div",k,null,512),(0,l._)("div",_,null,512),(0,l._)("div",b,null,512),(0,l._)("div",z,null,512),(0,l._)("div",L,null,512),(0,l._)("div",H,[(0,l.WI)(e.$slots,"default",{},(function(){return[w,T,E,x,B,W,C]}))],512),null!=e.footer?((0,l.wg)(),(0,l.iD)("div",Y,[(0,l.WI)(e.$slots,"footer",{},(function(){return[(0,l._)("div",null,[(0,l.Wm)(O,{onClick:e.closeModal},{default:(0,l.w5)((function(){return[M]})),_:1},8,["onClick"]),(0,l.Wm)(O,{type:"primary",loading:e.confirmLoading,onClick:e.closeModal},{default:(0,l.w5)((function(){return[P]})),_:1},8,["loading","onClick"])])]}))],512)):(0,l.kq)("",!0)])],512)],512)):(0,l.kq)("",!0)]})),_:3},16)],512)]))}]]);var S=O}}]);