"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[6635,3662,9067,6826],{88689:function(e,t,n){n.r(t),n.d(t,{useDragCol:function(){return o.useDragCol},useExpandLoading:function(){return s.useExpandLoading},useCalculate:function(){return l.useCalculate}});var o=n(55511),s=n(49425),l=n(68050)},68050:function(e,t,n){n.r(t),n.d(t,{useCalculate:function(){return l}});var o=n(66252),s=n(70094);const l=()=>{let e;return{setCalculateRow:async t=>{await(0,o.Y3)();const{tableRef:n,dataSource:l=[],columns:u=[],sumText:a,summaryFunc:r}=t;if(!l.length)return;const c=n.value.$el.querySelector(".ant-table-tbody");e||(e=c.lastElementChild?.cloneNode(!0),e.style.backgroundColor="#f8f8f9",e.style.position="sticky",e.style.zIndex="999",e.style.bottom="0",e.setAttribute("data-row-key",String(Math.random())));const i=t=>{if((0,s.mf)(r)){const t=r({dataSource:l,columns:u});[...e.children].forEach(((e,n)=>{e.textContent=t[n],e.style.backgroundColor="inherit"}))}else{const t=Object.keys(l[0]).reduce(((e,t)=>{const n=l.map((e=>e[t])).reduce(((e,t)=>t+e),0);return e[t]=isNaN(Number(n))?"N/A":n,e}),{}),n=u.map((e=>e.dataIndex??e.key));[...e.children].forEach(((e,o)=>{e.textContent=0==o?a:t[n[o]],e.style.backgroundColor="inherit"}))}t?.length&&[...e.children].forEach(((e,n)=>{Object.keys(t[n].style||[]).forEach((o=>{const s=t[n].style[o];e.style[s]=t[n].style[s],e.className=t[n].className}))}))};i(),c.contains(e)||(c.appendChild(e),setTimeout((()=>{const e=n.value.$el.querySelector(".ant-table-tbody")?.firstElementChild?.children;e&&i([...e])}),100))}}}},55511:function(e,t,n){n.r(t),n.d(t,{useDragCol:function(){return o}});const o=e=>{let t,n,o,s;const l=()=>s.onmouseup=s.onmousedown=s.onmousemove=null;e.forEach((u=>{const a=u?.customHeaderCell?.(e)??{};u.customHeaderCell=e=>({...a,onmouseenter:()=>{s=e.title[0].el.closest("th"),o??=s.closest(".ant-table-wrapper"),n??=o.clientWidth,s.onmousemove=function(e){e.offsetX>this.offsetWidth-10?this.style.cursor="col-resize":this.style.cursor="default",null==t&&(t=this),null!=t.mouseDown&&1==t.mouseDown&&(t.style.cursor="default",t.oldWidth+(e.x-t.oldX)>0&&(t.width=t.oldWidth+(e.x-t.oldX)),t.style.width=t.width,o.style.width=n+(e.x-t.oldX)+"px",t.style.cursor="col-resize")},s.onmousedown=function(e){t=this,e.offsetX>t.offsetWidth-10&&(t.mouseDown=!0,t.oldX=e.x,t.oldWidth=t.offsetWidth)},s.onmouseup=l,o.onmouseup=function(){l(),null==t&&(t=this),t.mouseDown=!1,t.style.cursor="default",n=o.clientWidth}},onmouseup:()=>l})}))}},49425:function(e,t,n){n.r(t),n.d(t,{useExpandLoading:function(){return u}});var o=n(49963),s=n(66252),l=n(50320);const u=async({expanded:e,record:t,expandItemEl:n,asyncFunc:u,params:a})=>{if(e&&t.children&&!Array.isArray(t.children)){if(n){const e=n.closest("td").querySelector(".ant-table-row-expand-icon");return(0,o.sY)((0,s.Wm)(l.Z),e),await(0,s.Y3)(),e.classList.add("loading-icon"),u(a).finally((async()=>{(0,o.sY)(null,e),await(0,s.Y3)(),e.classList.remove("loading-icon")}))}return u(a)}}}}]);