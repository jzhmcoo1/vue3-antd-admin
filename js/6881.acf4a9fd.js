"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[6881],{86881:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});n(12431);var i=n(66900),o=(n(58293),n(45542)),l=n(66252),a=n(2262),r=n(46231),c=n(49963),u=n(3577);const s=["src"],m=["src"],d={key:0,class:"toolbar"};n(49282);var g=n(47297),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},v=n(33058);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){h(e,t,n[t])}))}return e}({},e,t.attrs);return l.Wm(v.Z,l.dG(n,{icon:p}),null)};f.displayName="ZoomInOutlined",f.inheritAttrs=!1;var b=f,y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){w(e,t,n[t])}))}return e}({},e,t.attrs);return l.Wm(v.Z,l.dG(n,{icon:y}),null)};O.displayName="ZoomOutOutlined",O.inheritAttrs=!1;var S=O,k=n(9173),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){j(e,t,n[t])}))}return e}({},e,t.attrs);return l.Wm(v.Z,l.dG(n,{icon:U}),null)};z.displayName="DownloadOutlined",z.inheritAttrs=!1;var W=z,I=n(60191),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zm196-50c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zm0-140c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}},{tag:"path",attrs:{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"}}]},name:"one-to-one",theme:"outlined"};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){P(e,t,n[t])}))}return e}({},e,t.attrs);return l.Wm(v.Z,l.dG(n,{icon:C}),null)};Z.displayName="OneToOneOutlined",Z.inheritAttrs=!1;var x=Z;function _(e){const t=e.lastIndexOf("/")+1;let n=e.substring(t);return n=decodeURI(n.split("?")[0]),n}var V=(0,l.aZ)({name:"PreviewModal",components:{ZoomInOutlined:b,ZoomOutOutlined:S,RedoOutlined:k.Z,DownloadOutlined:W,CloseCircleOutlined:I.Z,OneToOneOutlined:x,[g.Z.name]:g.Z},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"image"},url:{type:String,default:""}},emits:["update:visible"],setup(e,{emit:t}){const n=(0,a.iH)();let i;const o=(0,a.qj)({timer:null,loading:!1,rotateDeg:0,imgScale:1,scaleCV:.07,initWidth:0,initHeight:0,contentStyle:{width:"60vw",height:"60vh"},imgStyle:{width:"",height:"",transform:"rotate(0)"}}),l=(0,a.Fl)({get:()=>e.visible,set:e=>t("update:visible",e)}),r=(e="scale")=>{o.imgStyle.width=o.initWidth*o.imgScale+"px",o.imgStyle.height=o.initHeight*o.imgScale+"px","init"===e?(o.imgStyle.maxWidth="",o.imgStyle.maxHeight=""):(o.imgStyle.maxWidth="none!important",o.imgStyle.maxHeight="none!important"),clearTimeout(i),i=setTimeout((()=>n.value?.classList.remove("active")),1400),n.value?.classList.add("active"),o.contentStyle={}};return{...(0,a.BK)(o),imgScaleMask:n,isVisible:l,rotateImg:()=>{o.rotateDeg-=90,o.imgStyle.transform=`rotate(${o.rotateDeg}deg)`},saveImg:e=>{!function({url:e,target:t="_blank",fileName:n}){const i=new URL(e).host==location.host;new Promise(((o,l)=>{if(i){const i=document.createElement("a");if(i.href=e,i.target=t,void 0!==i.download&&(i.download=n||_(e)),document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),i.dispatchEvent(e),o(!0)}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,t),o(!0)}{const t=document.createElement("canvas"),n=document.createElement("img");n.setAttribute("crossOrigin","Anonymous"),n.src=e,n.onload=i=>{t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0,n.width,n.height),t.toBlob((t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=_(e),n.click(),URL.revokeObjectURL(n.href),o(!0)}),"image/jpeg")},n.onerror=e=>l(e)}}))}({url:e})},zoomInImg:()=>{o.imgScale+=o.scaleCV,r()},zoomOutImg:()=>{o.imgScale-=o.scaleCV,r()},handZoom:r,imgLoaded:e=>{if(e.currentTarget?.complete){const{width:t,height:n}=getComputedStyle(e.currentTarget);o.imgStyle.width=t,o.imgStyle.height=n,o.initWidth=parseFloat(t),o.initHeight=parseFloat(n)}},resetImg:()=>{o.imgScale=1,r()}}}}),D=n(83744);var M=(0,D.Z)(V,[["render",function(e,t,n,i,o,a){const r=(0,l.up)("close-circle-outlined"),g=(0,l.up)("a-spin"),p=(0,l.up)("zoom-in-outlined"),v=(0,l.up)("zoom-out-outlined"),h=(0,l.up)("one-to-one-outlined"),f=(0,l.up)("redo-outlined"),b=(0,l.up)("download-outlined");return(0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[e.isVisible?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"preview-modal",onClick:t[5]||(t[5]=(0,c.iM)((t=>e.isVisible=!1),["self"]))},[(0,l.Wm)(r,{class:"close-icon",onClick:t[0]||(t[0]=t=>e.isVisible=!1)}),(0,l._)("div",{class:"preview-content",style:(0,u.j5)(e.contentStyle)},[(0,l.Wm)(g,{spinning:e.loading},{default:(0,l.w5)((()=>["image"===e.type?((0,l.wg)(),(0,l.iD)("img",{key:0,ref:"img",style:(0,u.j5)(e.imgStyle),src:e.url,alt:"",onLoad:t[1]||(t[1]=(0,c.iM)(((...t)=>e.imgLoaded&&e.imgLoaded(...t)),["stop"]))},null,44,s)):(0,l.kq)("",!0),"video"===e.type?((0,l.wg)(),(0,l.iD)("video",{key:1,ref:"video",src:e.url,controls:"",autoplay:"",onCanplay:t[2]||(t[2]=t=>e.loading=!1),onLoadstart:t[3]||(t[3]=t=>e.loading=!0)},null,40,m)):(0,l.kq)("",!0),(0,l._)("div",{ref:"imgScaleMask",class:"img-scale-mask"},(0,u.zw)(~~(100*e.imgScale)+"%"),513)])),_:1},8,["spinning"])],4),"image"===e.type?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(p,{title:"放大",onClick:e.zoomInImg},null,8,["onClick"]),(0,l.Wm)(v,{title:"缩放",onClick:e.zoomOutImg},null,8,["onClick"]),(0,l.Wm)(h,{title:"原始比例",onClick:e.resetImg},null,8,["onClick"]),(0,l.Wm)(f,{title:"旋转",onClick:e.rotateImg},null,8,["onClick"]),(0,l.Wm)(b,{title:"下载",onClick:t[4]||(t[4]=t=>e.saveImg(e.url))})])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])}]]);const L=(0,l.Uk)(" 示意图："),E=(0,l.Uk)(" (例如：//at.alicdn.com/t/font_1166867_7zdsgx6x88l.js) "),H=(0,l.Uk)(" （例如：icon-huanfu1、icon-zhutipifu、icon-xinwendongtai1） "),N={key:1};var q=(0,l.aZ)({name:"CustomIcon",setup(e){const t=(0,a.qj)({scriptUrl:"",iconName:"",visible:!1,imageUrl:""}),n=e=>{t.imageUrl=e.target.currentSrc,t.visible=!0};return(e,c)=>{const u=(0,l.up)("a-input"),s=(0,l.up)("a-card");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)((0,a.SU)(o.Z),{message:"自定义图标",description:"使用阿里图标库，可以有效减小项目的体积，支持离线本地图标和在线图标",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[L,(0,l._)("img",{class:"image-demo",src:"http://ww1.sinaimg.cn/large/005IOlAWgy1gl8bm4ot9dj314r0opabq.jpg",onClick:n}),(0,a.SU)(t).visible?((0,l.wg)(),(0,l.j4)(M,{key:0,visible:(0,a.SU)(t).visible,"onUpdate:visible":c[0]||(c[0]=e=>(0,a.SU)(t).visible=e),type:"image",url:(0,a.SU)(t).imageUrl},null,8,["visible","url"])):(0,l.kq)("",!0),(0,l.Wm)((0,a.SU)(i.ZP),{title:"使用示例",column:1},{default:(0,l.w5)((()=>[(0,l.Wm)((0,a.SU)(i.ZP).Item,{label:"阿里图标路径"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:(0,a.SU)(t).scriptUrl,"onUpdate:value":c[1]||(c[1]=e=>(0,a.SU)(t).scriptUrl=e),style:{width:"400px"},placeholder:"请输入你的阿里巴巴矢量图标库项目图标的路径"},null,8,["value"]),E])),_:1}),(0,l.Wm)((0,a.SU)(i.ZP).Item,{label:"图标名字"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:(0,a.SU)(t).iconName,"onUpdate:value":c[2]||(c[2]=e=>(0,a.SU)(t).iconName=e),placeholder:"请输入图标的名字",style:{width:"200px"}},null,8,["value"]),H])),_:1}),(0,l.Wm)((0,a.SU)(i.ZP).Item,{label:"效果"},{default:(0,l.w5)((()=>[(0,a.SU)(t).scriptUrl&&(0,a.SU)(t).iconName?((0,l.wg)(),(0,l.j4)((0,a.SU)(r.IconFont),{key:0,"script-url":(0,a.SU)(t).scriptUrl,type:(0,a.SU)(t).iconName,size:"30"},null,8,["script-url","type"])):((0,l.wg)(),(0,l.iD)("span",N,"可以复制示例的地址和图标查看效果"))])),_:1})])),_:1})])),_:1})])}}});var R=(0,D.Z)(q,[["__scopeId","data-v-078d7f0b"]])}}]);